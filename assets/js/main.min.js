function listenForWaitingServiceWorker(e,n){function t(){e.installing.addEventListener("statechange",function(){"installed"===this.state&&n(e)})}if(e)return e.waiting?n(e):void(e.installing?t():e.addEventListener("updatefound",t))}var refreshing;function promptUserToRefresh(e){e.waiting.postMessage("skipWaiting")}"serviceWorker"in navigator?window.addEventListener("load",function(){navigator.serviceWorker.register("/service-worker.js").then(function(e){listenForWaitingServiceWorker(e,promptUserToRefresh)}).catch(function(e){console.error("[SW] Error during service worker registration: ",e)})}):console.log("Ahh! Your browser does not support Service Workers"),navigator.serviceWorker.addEventListener("controllerchange",function(){refreshing||(refreshing=!0,window.location.reload(!0))}),$("#contact-form").submit(function(e){e.preventDefault();var n=$(this);$.post(n.attr("action"),n.serialize()).then(function(){$("#contact-form").prepend("<div id='submit-successful' style='color:green; margin:auto;'>Your response has been recorded!</div>"),document.getElementById("contact-form").reset(),setTimeout(function(){$("#submit-successful").length>0&&$("#submit-successful").remove()},1e4)})}),$(function(){var e=function(e){!e;var n=e?"block":"none";$("#search-content").val(""),$(".search-tool").css("display",n)};$("#close-btn").click(function(){e(!1)}),$("#search-btn").click(function(){e(!0)}),$.getJSON("/search.json").done(function(e){0==e.code&&$("#search-content").typeahead({source:e.data,displayText:function(e){return e.title},afterSelect:function(e){window.location.href=e.url}})})});